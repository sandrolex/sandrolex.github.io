(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{45:function(t,e,n){},46:function(t,e){},76:function(t,e,n){"use strict";n.r(e);var c=n(5),a=n.n(c),o=n(33),r=n.n(o),s=(n(45),n(9)),i=n(7),l=n.n(i);function u(t){return l.a.enc.Base64.stringify(t)}function b(t,e){var n=l.a.SHA256(e),c=l.a.lib.WordArray.random(16),a={iv:c,mode:l.a.mode.CBC},o=l.a.AES.encrypt(t,n,a);return c.concat(o.ciphertext),u(c)}function d(t,e){var n=l.a.enc.Base64.parse(t),c=l.a.SHA256(e),a=l.a.lib.WordArray.random(16),o=a.words.length,r=n.words.length,s=l.a.lib.WordArray.create(n.words.slice(o,r)),i=l.a.lib.WordArray.create(n.words.slice(0,a.words.length+1));s=u(s);var b,d={iv:i,mode:l.a.mode.CBC},j=l.a.AES.decrypt(s,c,d);return b=j,l.a.enc.Utf8.stringify(b)}var j=n(27),p=n(34),h=n(28);function f(){return(f=Object(p.a)(Object(j.a)().mark((function t(e,n,c,a,o){var r,s,i;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o,console.log("AT",r),t.prev=2,t.next=5,h.a.get("https://api.github.com/repos/".concat(e,"/contents/").concat(c),{headers:{Authorization:"Token ".concat(r)}});case 5:return s=t.sent,console.log("XXXX",s),i=s.data.sha,console.log("SHA",i),t.next=11,h.a.put("https://api.github.com/repos/".concat(e,"/contents/").concat(c),{message:"commit from js",content:btoa(a),sha:i},{headers:{Authorization:"Token ".concat(r)}});case 11:console.log("File committed successfully!"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}var O=n(3);var g=function(t){var e=t.SendPassword,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1];return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("input",{value:o,onChange:function(t){var e=t.target;r(e.value)},name:"password",type:"text"}),Object(O.jsx)("button",{className:"btn submit-btn",onClick:function(){return e(o)},children:"Go"})]})};var y=function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),n=e[0],a=e[1],o=Object(c.useState)(""),r=Object(s.a)(o,2),i=r[0],l=r[1],u=Object(c.useState)("encrypt"),j=Object(s.a)(u,2),p=j[0],h=j[1],y=Object(c.useState)(""),m=Object(s.a)(y,2),v=m[0],x=m[1],S=Object(c.useState)(""),C=Object(s.a)(S,2),k=C[0],w=C[1],A=Object(c.useState)("false"),N=Object(s.a)(A,2),E=N[0],X=N[1],B=Object(c.useState)(""),D=Object(s.a)(B,2),T=D[0],F=D[1],P=Object(c.useState)(""),W=Object(s.a)(P,2),H=W[0],J=W[1];Object(c.useEffect)((function(){var t=window.location.host,e="http://";t.includes("github")&&(e="https://"),fetch(e+t+"/db.json").then((function(t){return t.json()})).then((function(t){x(t)})).catch((function(t){console.log(t," error")}))}),[]);var z=function(t){a(""),F(""),J(""),h(t)},I=function(){n&&("encrypt"===p?F(b(n,i)):(J(d(n,i)),console.log("RAW",v),console.log("XXXX",d(v.d2,i))))},L=function(){console.log("clearDB",k),v.d2=b(k,i),console.log("cipher",v);!function(t,e,n,c,a){f.apply(this,arguments)}("sandrolex/sandrolex.github.io","main","db.json",JSON.stringify(v),d(v.d1,i))};return"false"===E?Object(O.jsx)(g,{SendPassword:function(t){l(t),console.log("PASS",i),X("true"),h("edit")}}):Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"btn btn-left",style:{backgroundColor:"encrypt"===p?"#5e35b1":"#5e35b130"},onClick:function(){z("encrypt")},children:"Encrypt"}),Object(O.jsx)("button",{className:"btn btn-right",style:{backgroundColor:"decrypt"===p?"#1e88e5":"#1e88e530"},onClick:function(){z("decrypt")},children:"Decrypt"}),Object(O.jsx)("button",{className:"btn btn-right",style:{backgroundColor:"edit"===p?"#1e88e5":"#1e88e530"},onClick:function(){w(d(v.d2,i)),z("edit")},children:"Edit"})]}),"edit"===p?Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("input",{value:k,name:"edit",type:"text",onChange:function(t){var e=t.target;w(e.value)}}),Object(O.jsx)("button",{className:"btn submit-btn",onClick:L,children:"Save"})]}):Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("input",{value:n,onChange:function(t){var e=t.target;a(e.value)},name:"text",type:"text",placeholder:"encrypt"===p?"Enter Text":"Enter Encrypted Data"}),Object(O.jsx)("input",{value:i,onChange:function(t){var e=t.target;l(e.value)},name:"pass",type:"text",placeholder:"secret"}),Object(O.jsx)("button",{className:"btn submit-btn",onClick:I,children:"encrypt"===p?"Encrypt":"Decrypt"})]}),T||H?Object(O.jsxs)("div",{className:"content",children:[Object(O.jsxs)("label",{children:["encrypt"===p?"Encrypted":"Decrypted"," Data"]}),Object(O.jsx)("p",{children:"encrypt"===p?T:H})]}):null]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),o(t),r(t)}))};r.a.createRoot(document.getElementById("root")).render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(y,{})})),m()}},[[76,1,2]]]);
//# sourceMappingURL=main.27f44ede.chunk.js.map