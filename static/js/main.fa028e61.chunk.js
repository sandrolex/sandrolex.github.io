(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{62:function(e,t,a){},63:function(e,t){},96:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),c=a(46),s=a.n(c),o=(a(62),a(10)),i=a(14),u=a.n(i);function l(e){return u.a.enc.Base64.stringify(e)}function b(e,t){var a=u.a.SHA256(t),n=u.a.lib.WordArray.random(16),r={iv:n,mode:u.a.mode.CBC},c=u.a.AES.encrypt(e,a,r);return n.concat(c.ciphertext),l(n)}function d(e,t){var a=u.a.enc.Base64.parse(e),n=u.a.SHA256(t),r=u.a.lib.WordArray.random(16),c=r.words.length,s=a.words.length,o=u.a.lib.WordArray.create(a.words.slice(c,s)),i=u.a.lib.WordArray.create(a.words.slice(0,r.words.length+1));o=l(o);var b,d={iv:i,mode:u.a.mode.CBC},j=u.a.AES.decrypt(o,n,d);return b=j,u.a.enc.Utf8.stringify(b)}var j=a(0),p=a(2),m=a(40);function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(p.a)(Object(j.a)().mark((function e(t,a){var n,r,c,s,o;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",!t||!a){e.next=19;break}return"RS256",r=a,e.next=6,m.a(r,"RS256");case 6:return c=e.sent,e.prev=7,e.next=10,m.b(t,c);case 10:s=e.sent,o=s.payload,n=o.version,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),n="FAILED",console.log("FAILED");case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}var O=a(4),v=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){function t(){return(t=Object(p.a)(Object(j.a)().mark((function t(){var a;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e.db.d4,e.db.d5);case 2:a=t.sent,c(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r||function(){t.apply(this,arguments)}()}),[e.db.d4,e.db.d5,r,c]),Object(O.jsx)("div",{children:Object(O.jsx)("span",{className:"version",children:r})})},g=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],s=function(){var t=Object(p.a)(Object(j.a)().mark((function t(a){return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.loginCallback(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsxs)("form",{onSubmit:s,children:[Object(O.jsx)("input",{value:r,onChange:function(e){var t=e.target;c(t.value)},name:"password",type:"text"}),Object(O.jsx)("button",{className:"btn submit-btn",type:"submit",children:"Go"})]}),Object(O.jsx)(v,{db:e.db})]})},x=a(53),y=["January","February","March","April","May","June","July","August","September","October","November","December"],k=function(){var e=Object(p.a)(Object(j.a)().mark((function e(t,a,n){var r,c,s,o,i,u;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d(t,n),c=JSON.parse(r),s=a.getFullYear(),o=y[a.getMonth()],i=a.getDate(),u={f:0,s:0,a:0,t:0,sl:0,m:0,si:0,p:0,w:0},s in c){e.next=8;break}return e.abrupt("return",u);case 8:if(o in c[s]){e.next=10;break}return e.abrupt("return",u);case 10:if(i in c[s][o]){e.next=12;break}return e.abrupt("return",u);case 12:return e.abrupt("return",c[s][o][i]);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),N=a(41);function S(e,t,a,n,r){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(Object(j.a)().mark((function e(t,a,n,r,c){var s,o,i;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=c,e.prev=1,e.next=4,N.a.get("https://api.github.com/repos/".concat(t,"/contents/").concat(n),{headers:{Authorization:"Token ".concat(s)}});case 4:return o=e.sent,i=o.data.sha,e.next=8,N.a.put("https://api.github.com/repos/".concat(t,"/contents/").concat(n),{message:"commit from js",content:btoa(r),sha:i},{headers:{Authorization:"Token ".concat(s)}});case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var w=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(0),i=Object(o.a)(s,2),u=i[0],l=i[1],m=Object(n.useState)(0),h=Object(o.a)(m,2),f=h[0],v=h[1],g=Object(n.useState)(0),x=Object(o.a)(g,2),N=x[0],C=x[1],w=Object(n.useState)(0),I=Object(o.a)(w,2),F=I[0],A=I[1],D=Object(n.useState)(0),E=Object(o.a)(D,2),J=E[0],B=E[1],H=Object(n.useState)(0),M=Object(o.a)(H,2),L=M[0],T=M[1],W=Object(n.useState)(0),U=Object(o.a)(W,2),z=U[0],P=U[1],R=Object(n.useState)(0),Y=Object(o.a)(R,2),G=Y[0],q=Y[1];function K(){return(K=Object(p.a)(Object(j.a)().mark((function t(){var a,n;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"sandrolex/sandrolex.github.io","main","db.json",a=JSON.stringify(e.db),n=d(e.db.d1,e.password),t.next=7,S("sandrolex/sandrolex.github.io","main","db.json",a,n);case 7:if(t.sent){t.next=11;break}e.msgHandler("Error: could not commit file",!0),t.next=12;break;case 11:e.msgHandler("Commit SUCCESS",!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){k(e.db.d2,e.date,e.password).then((function(e){c(e.f),l(e.s),v(e.a),C(e.t),A(e.sl),B(e.m),q(e.w),P(e.p),T(e.si)}))}),[e.db.d2,e.date,e.password]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:Object(O.jsx)("label",{htmlFor:"date",className:"form-label",children:e.date.toLocaleDateString("en-GB")})}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"food",className:"form-label",children:"Food: "}),Object(O.jsx)("input",{type:"radio",value:"1",name:"food",checked:1===r,onChange:function(e){return c(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"2",name:"food",checked:2===r,onChange:function(e){return c(parseInt(e.target.value))}})," 2\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"3",name:"food",checked:3===r,onChange:function(e){return c(parseInt(e.target.value))}})," 3\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"sport",className:"form-label",children:"Sport: "}),Object(O.jsx)("input",{type:"radio",value:"1",name:"sport",checked:1===u,onChange:function(e){return l(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"2",name:"sport",checked:2===u,onChange:function(e){return l(parseInt(e.target.value))}})," 2\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"3",name:"sport",checked:3===u,onChange:function(e){return l(parseInt(e.target.value))}})," 3\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"alcool",className:"form-label",children:"Alcool: "}),Object(O.jsx)("input",{type:"radio",value:"1",name:"alcool",checked:1===f,onChange:function(e){return v(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"2",name:"alcool",checked:2===f,onChange:function(e){return v(parseInt(e.target.value))}})," 2\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"3",name:"alcool",checked:3===f,onChange:function(e){return v(parseInt(e.target.value))}})," 3\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"tabac",className:"form-label",children:"Tabac: "}),Object(O.jsx)("input",{type:"radio",value:"1",name:"tabac",checked:1===N,onChange:function(e){return C(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"2",name:"tabac",checked:2===N,onChange:function(e){return C(parseInt(e.target.value))}})," 2\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"sleep",className:"form-label",children:"Sleep: "}),Object(O.jsx)("input",{type:"radio",value:"1",name:"sleep",checked:1===F,onChange:function(e){return A(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"2",name:"sleep",checked:2===F,onChange:function(e){return A(parseInt(e.target.value))}})," 2\xa0\xa0",Object(O.jsx)("input",{type:"radio",value:"3",name:"sleep",checked:3===F,onChange:function(e){return A(parseInt(e.target.value))}})," 3\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"mood",className:"form-label",children:"Mood: "}),Object(O.jsx)("input",{type:"radio",className:"form-input",value:"1",name:"mood",checked:1===J,onChange:function(e){return B(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",className:"form-input",value:"2",name:"mood",checked:2===J,onChange:function(e){return B(parseInt(e.target.value))}})," 2\xa0\xa0",Object(O.jsx)("input",{type:"radio",className:"form-input",value:"3",name:"mood",checked:3===J,onChange:function(e){return B(parseInt(e.target.value))}})," 3\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"sick",className:"form-label",children:"Sick: "}),Object(O.jsx)("input",{type:"radio",className:"form-input",value:"1",name:"sick",checked:1===L,onChange:function(e){return T(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",className:"form-input",value:"2",name:"sick",checked:2===L,onChange:function(e){return T(parseInt(e.target.value))}})," 2\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"productivity",className:"form-label",children:"Prod: "}),Object(O.jsx)("input",{type:"radio",className:"form-input",value:"1",name:"productivity",checked:1===z,onChange:function(e){return P(parseInt(e.target.value))}})," 1\xa0\xa0",Object(O.jsx)("input",{type:"radio",className:"form-input",value:"2",name:"productivity",checked:2===z,onChange:function(e){return P(parseInt(e.target.value))}})," 2\xa0\xa0"]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("label",{htmlFor:"weight",className:"form-label",children:"Weight: "}),Object(O.jsx)("input",{className:"form-input",type:"text",name:"weight",size:"3",value:G.toString(),onChange:function(e){return function(e){var t=parseInt(e);isNaN(t)?q(0):q(t)}(e.target.value)}})]}),Object(O.jsxs)("div",{className:"form-div",children:[Object(O.jsx)("button",{className:"btn submit-btn",onClick:function(){var t={food:parseInt(r),sport:parseInt(u),alcool:parseInt(f),tabac:parseInt(N),sleep:parseInt(F),mood:parseInt(J),weight:parseInt(G),sick:parseInt(L),productivity:parseInt(z),date:e.date};e.db.d2=function(e,t,a){var n=d(e,a),r=t.date.getFullYear(),c=y[t.date.getMonth()],s=t.date.getDate(),o={f:t.food,s:t.sport,a:t.alcool,t:t.tabac,sl:t.sleep,m:t.mood,si:t.sick,p:t.productivity,w:t.weight},i=JSON.parse(n);return r in i||(i[r]={}),c in i[r]||(i[r][c]={}),i[r][c][s]=o,b(JSON.stringify(i),a)}(e.db.d2,t,e.password),e.msgHandler("Add SUCCESS",!1)},children:"Add"}),"\xa0\xa0",Object(O.jsx)("button",{className:"btn submit-btn",onClick:function(){e.db.d2=function(e,t,a){var n=d(e,a),r=JSON.parse(n),c=t.getFullYear(),s=y[t.getMonth()],o=t.getDate();return c in r&&s in r[c]?(delete r[c][s][o],b(JSON.stringify(r),a)):e}(e.db.d2,e.date,e.password),e.msgHandler("Del SUCCESS",!1)},children:"Del"}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"btn submit-btn",onClick:function(){return K.apply(this,arguments)},children:"Commit"}),Object(O.jsx)("br",{})]})]})},I=function(e){if(""===e.message)return Object(O.jsx)(O.Fragment,{});var t=e.error?"error-message":"ok-message",a=e.error?"error-text":"ok-text";return Object(O.jsx)("div",{className:t,children:Object(O.jsx)("span",{className:a,children:e.message})})},F=function(e){var t=Object(n.useState)(new Date),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),u=i[0],l=i[1],b=Object(n.useState)(""),d=Object(o.a)(b,2),j=d[0],p=d[1];return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)(x.a,{value:r,onChange:function(e){c(e),l(!1),p("")}}),Object(O.jsx)(w,{date:r,db:e.db,password:e.password,msgHandler:function(e,t){""!==e&&(p(e),l(t))}}),Object(O.jsx)(I,{message:j,error:u}),Object(O.jsx)(v,{db:e.db})]})};var A=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),i=s[0],u=s[1],l=Object(n.useState)("false"),b=Object(o.a)(l,2),j=b[0],p=b[1];return Object(n.useEffect)((function(){var e=window.location.host,t="http://";e.includes("github")&&(t="https://"),fetch(t+e+"/db.json").then((function(e){return e.json()})).then((function(e){u(e)})).catch((function(e){console.log(e," error gettng db.json")}))}),[]),"false"===j?Object(O.jsx)(g,{loginCallback:function(e){r(e),"true"===d(i.d3,e)?p("true"):console.log("failed")},db:i}):Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(F,{password:a,db:i})})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(A,{})})),D()}},[[96,1,2]]]);
//# sourceMappingURL=main.fa028e61.chunk.js.map