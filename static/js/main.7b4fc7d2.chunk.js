(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{55:function(e,t,n){},56:function(e,t){},89:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(39),o=n.n(r),s=(n(55),n(5)),i=n(9),u=n.n(i);function l(e){return u.a.enc.Base64.stringify(e)}function d(e,t){var n=u.a.SHA256(t),a=u.a.lib.WordArray.random(16),c={iv:a,mode:u.a.mode.CBC},r=u.a.AES.encrypt(e,n,c);return a.concat(r.ciphertext),l(a)}function b(e,t){var n=u.a.enc.Base64.parse(e),a=u.a.SHA256(t),c=u.a.lib.WordArray.random(16),r=c.words.length,o=n.words.length,s=u.a.lib.WordArray.create(n.words.slice(r,o)),i=u.a.lib.WordArray.create(n.words.slice(0,c.words.length+1));s=l(s);var d,b={iv:i,mode:u.a.mode.CBC},j=u.a.AES.decrypt(s,a,b);return d=j,u.a.enc.Utf8.stringify(d)}var j=n(18),p=n(21),h=n(34);function O(e,t,n,a,c){return f.apply(this,arguments)}function f(){return(f=Object(p.a)(Object(j.a)().mark((function e(t,n,a,c,r){var o,s,i;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r,console.log("AT",o),e.prev=2,e.next=5,h.a.get("https://api.github.com/repos/".concat(t,"/contents/").concat(a),{headers:{Authorization:"Token ".concat(o)}});case 5:return s=e.sent,i=s.data.sha,e.next=9,h.a.put("https://api.github.com/repos/".concat(t,"/contents/").concat(a),{message:"commit from js",content:btoa(c),sha:i},{headers:{Authorization:"Token ".concat(o)}});case 9:console.log("File committed successfully!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var g=n(2);var v=function(e){var t=e.SendPassword,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],o=c[1];return Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("input",{value:r,onChange:function(e){var t=e.target;o(t.value)},name:"password",type:"text"}),Object(g.jsx)("button",{className:"btn submit-btn",onClick:function(){return t(r)},children:"Go"})]})},m=n(46),x=["January","February","March","April","May","June","July","August","September","October","November","December"],y=function(){var e=Object(p.a)(Object(j.a)().mark((function e(t,n,a){var c,r,o,s,i,u;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=b(t,a),r=JSON.parse(c),o=n.getFullYear(),s=x[n.getMonth()],i=n.getDate(),u={f:0,s:0,a:0,t:0,sl:0,m:0,w:0},o in r){e.next=8;break}return e.abrupt("return",u);case 8:if(s in r[o]){e.next=10;break}return e.abrupt("return",u);case 10:if(i in r[o][s]){e.next=12;break}return e.abrupt("return",u);case 12:return e.abrupt("return",r[o][s][i]);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),C=function(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(0),i=Object(s.a)(o,2),u=i[0],l=i[1],d=Object(a.useState)(0),b=Object(s.a)(d,2),j=b[0],p=b[1],h=Object(a.useState)(0),O=Object(s.a)(h,2),f=O[0],v=O[1],m=Object(a.useState)(0),x=Object(s.a)(m,2),C=x[0],k=x[1],S=Object(a.useState)(0),w=Object(s.a)(S,2),I=w[0],N=w[1],A=Object(a.useState)(0),E=Object(s.a)(A,2),D=E[0],J=E[1];Object(a.useEffect)((function(){y(e.db.d2,e.date,e.password).then((function(e){r(e.f),l(e.s),p(e.a),v(e.t),k(e.sl),N(e.m),J(e.w)}))}),[e.db.d2,e.date,e.password]);return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:e.date.toLocaleDateString("en-GB")}),Object(g.jsxs)("div",{children:["Food:",Object(g.jsx)("input",{type:"radio",value:"1",name:"food",checked:1===c,onChange:function(e){return r(parseInt(e.target.value))}})," 1",Object(g.jsx)("input",{type:"radio",value:"2",name:"food",checked:2===c,onChange:function(e){return r(parseInt(e.target.value))}})," 2",Object(g.jsx)("input",{type:"radio",value:"3",name:"food",checked:3===c,onChange:function(e){return r(parseInt(e.target.value))}})," 3"]}),Object(g.jsxs)("div",{children:["Sport:",Object(g.jsx)("input",{type:"radio",value:"1",name:"sport",checked:1===u,onChange:function(e){return l(parseInt(e.target.value))}})," 1",Object(g.jsx)("input",{type:"radio",value:"2",name:"sport",checked:2===u,onChange:function(e){return l(parseInt(e.target.value))}})," 2",Object(g.jsx)("input",{type:"radio",value:"3",name:"sport",checked:3===u,onChange:function(e){return l(parseInt(e.target.value))}})," 3"]}),Object(g.jsxs)("div",{children:["Alcool:",Object(g.jsx)("input",{type:"radio",value:"1",name:"alcool",checked:1===j,onChange:function(e){return p(parseInt(e.target.value))}})," 1",Object(g.jsx)("input",{type:"radio",value:"2",name:"alcool",checked:2===j,onChange:function(e){return p(parseInt(e.target.value))}})," 2",Object(g.jsx)("input",{type:"radio",value:"3",name:"alcool",checked:3===j,onChange:function(e){return p(parseInt(e.target.value))}})," 3"]}),Object(g.jsxs)("div",{children:["Tabac:",Object(g.jsx)("input",{type:"radio",value:"1",name:"tabac",checked:1===f,onChange:function(e){return v(parseInt(e.target.value))}})," 1",Object(g.jsx)("input",{type:"radio",value:"2",name:"tabac",checked:2===f,onChange:function(e){return v(parseInt(e.target.value))}})," 2"]}),Object(g.jsxs)("div",{children:["Sleep:",Object(g.jsx)("input",{type:"radio",value:"1",name:"sleep",checked:1===C,onChange:function(e){return k(parseInt(e.target.value))}})," 1",Object(g.jsx)("input",{type:"radio",value:"2",name:"sleep",checked:2===C,onChange:function(e){return k(parseInt(e.target.value))}})," 2"]}),Object(g.jsxs)("div",{children:["Mood:",Object(g.jsx)("input",{type:"radio",value:"1",name:"mood",checked:1===I,onChange:function(e){return N(parseInt(e.target.value))}})," 1",Object(g.jsx)("input",{type:"radio",value:"2",name:"mood",checked:2===I,onChange:function(e){return N(parseInt(e.target.value))}})," 2"]}),Object(g.jsxs)("div",{children:["Weight:",Object(g.jsx)("input",{type:"text",name:"weight",value:D,onChange:function(e){return J(parseInt(e.target.value))}})]}),Object(g.jsx)("button",{onClick:function(){var t={food:parseInt(c),sport:parseInt(u),alcool:parseInt(j),tabac:parseInt(f),sleep:parseInt(C),mood:parseInt(I),weight:parseInt(D),date:e.date};e.dataHandle(t)},children:"Add"}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){console.log("commit clik"),e.commitCallback()},children:"Commit"})]})},k=function(e){var t=Object(a.useState)(new Date),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)(m.a,{value:c,onChange:function(e){r(e)}}),Object(g.jsx)(C,{date:c,dataHandle:e.dataHandle,commitCallback:e.commitCallback,db:e.db,password:e.password})]})};var S=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(s.a)(r,2),i=o[0],u=o[1],l=Object(a.useState)("encrypt"),j=Object(s.a)(l,2),p=j[0],h=j[1],f=Object(a.useState)(""),m=Object(s.a)(f,2),y=m[0],C=m[1],S=Object(a.useState)(""),w=Object(s.a)(S,2),I=w[0],N=w[1],A=Object(a.useState)("false"),E=Object(s.a)(A,2),D=E[0],J=E[1],F=Object(a.useState)(""),B=Object(s.a)(F,2),T=B[0],H=B[1],M=Object(a.useState)(""),W=Object(s.a)(M,2),P=W[0],X=W[1],L=function(){console.log("Commit callback"),console.log("clear",b(y.d2,i));O("sandrolex/sandrolex.github.io","main","db.json",JSON.stringify(y),b(y.d1,i))},R=function(e){console.log("RECEIVED DATA",e),y.d2=function(e,t,n){var a=b(e,n),c=t.date.getFullYear(),r=x[t.date.getMonth()],o=t.date.getDate(),s={f:t.food,s:t.sport,a:t.alcool,t:t.tabac,sl:t.sleep,m:t.mood,w:t.weight},i=JSON.parse(a);return c in i||(i[c]={}),r in i[c]||(i[c][r]={}),i[c][r][o]=s,d(JSON.stringify(i),n)}(y.d2,e,i)};Object(a.useEffect)((function(){var e=window.location.host,t="http://";e.includes("github")&&(t="https://"),fetch(t+e+"/db.json").then((function(e){return e.json()})).then((function(e){C(e)})).catch((function(e){console.log(e," error")}))}),[]);var z=function(e){c(""),H(""),X(""),h(e)},G=function(){n&&("encrypt"===p?H(d(n,i)):(X(b(n,i)),console.log("RAW",y),console.log("XXXX",b(y.d2,i))))},Y=function(){console.log("clearDB",I),y.d2=d(I,i),console.log("cipher",y);O("sandrolex/sandrolex.github.io","main","db.json",JSON.stringify(y),b(y.d1,i))},U=function(e){return"edit"===e?Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("input",{value:I,name:"edit",type:"text",onChange:function(e){var t=e.target;N(t.value)}}),Object(g.jsx)("button",{className:"btn submit-btn",onClick:Y,children:"Save"})]}):"calendar"===e?Object(g.jsx)(k,{dataHandle:R,commitCallback:L,password:i,db:y}):Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("input",{value:n,onChange:function(e){var t=e.target;c(t.value)},name:"text",type:"text",placeholder:"encrypt"===p?"Enter Text":"Enter Encrypted Data"}),Object(g.jsx)("input",{value:i,onChange:function(e){var t=e.target;u(t.value)},name:"pass",type:"text",placeholder:"secret"}),Object(g.jsx)("button",{className:"btn submit-btn",onClick:G,children:"encrypt"===p?"Encrypt":"Decrypt"}),T||P?Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("label",{children:["encrypt"===p?"Encrypted":"Decrypted"," Data"]}),Object(g.jsx)("p",{children:"encrypt"===p?T:P})]}):null]})};return"false"===D?Object(g.jsx)(v,{SendPassword:function(e){u(e),"true"===b(y.d3,i)?(J("true"),h("edit")):console.log("failed")}}):Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:"btn btn-left",style:{backgroundColor:"encrypt"===p?"#5e35b1":"#5e35b130"},onClick:function(){z("encrypt")},children:"Encrypt"}),Object(g.jsx)("button",{className:"btn btn-right",style:{backgroundColor:"decrypt"===p?"#1e88e5":"#1e88e530"},onClick:function(){z("decrypt")},children:"Decrypt"}),Object(g.jsx)("button",{className:"btn btn-right",style:{backgroundColor:"edit"===p?"#1e88e5":"#1e88e530"},onClick:function(){N(b(y.d2,i)),z("edit")},children:"Edit"}),Object(g.jsx)("button",{className:"btn btn-right",style:{backgroundColor:"calendar"===p?"#1e88e5":"#1e88e530"},onClick:function(){z("calendar")},children:"Calendar"})]}),U(p)]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(S,{})})),w()}},[[89,1,2]]]);
//# sourceMappingURL=main.7b4fc7d2.chunk.js.map