{"version":3,"sources":["enc/crypt.js","gh/gh.js","Login/Login.js","Screens/FormScreen.js","data/handle.js","Screens/CurrentScreen.js","Screens/EditScreen.js","App.js","reportWebVitals.js","index.js"],"names":["toBase64String","words","CryptoJS","enc","Base64","stringify","encryptData","input","key","secret_key","SHA256","iv","lib","WordArray","random","options","mode","CBC","body","AES","encrypt","concat","ciphertext","decryptData","packet","parse","start","length","end","create","slice","parsed_iv","decrypted","decrypt","Utf8","commitFile","repository","branch","filePath","content","pat","accessToken","console","log","axios","get","headers","Authorization","refResponse","refSha","data","sha","put","message","btoa","error","Login","SendPassword","useState","password","setPassword","className","value","onChange","target","name","type","onClick","FormScreen","props","food","setFood","sport","setSport","alcool","setAlcool","tabac","setTabac","sleep","setSleep","mood","setMood","weight","setWeight","date","toLocaleDateString","e","parseInt","dataHandle","commitCallback","month","getDataFromStruct","d2","cleartxt","clearjson","JSON","YY","getFullYear","MM","getMonth","DD","getDate","CurrentScreen","currentData","setCurrentData","useEffect","db","selectedDate","then","toString","w","f","EditScreen","Date","setSelectedDate","d","App","text","setText","screen","setScreen","setDb","clearDb","setClearDb","loggedIn","setLoggedIn","encrptedData","setEncrptedData","decrptedData","setDecrptedData","d1","root","s","a","t","sl","m","clear","addDataToStruct","host","window","location","protocol","includes","fetch","res","json","catch","err","switchScreen","handleClick","handleSaveDbClick","showScreen","selection","placeholder","d3","style","backgroundColor","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.c2cc3053.chunk.js","sourcesContent":["import CryptoJS from \"crypto-js\";\n\n\nfunction toString(words){\n    return CryptoJS.enc.Utf8.stringify(words);\n}\n\nfunction toBase64String(words){\n    return CryptoJS.enc.Base64.stringify(words);\n}\n\nexport function encryptData(input, key){\n    var secret_key = CryptoJS.SHA256(key);\n    var iv = CryptoJS.lib.WordArray.random(16);\n    var options = {\n        iv: iv,\n        mode: CryptoJS.mode.CBC\n    }\n    var body = CryptoJS.AES.encrypt(input, secret_key, options);\n    iv.concat(body.ciphertext);\n    return toBase64String(iv);\n}\n\nexport function decryptData(input, key){\n    var packet = CryptoJS.enc.Base64.parse(input);\n\n    var secret_key = CryptoJS.SHA256(key);\n    var iv = CryptoJS.lib.WordArray.random(16);\n\n    var start = iv.words.length;\n    var end = packet.words.length;\n    \n    var ciphertext = CryptoJS.lib.WordArray.create(packet.words.slice(start, end));\n    var parsed_iv = CryptoJS.lib.WordArray.create(packet.words.slice(0, iv.words.length+1));\n    ciphertext = toBase64String(ciphertext);\n    var options = {\n        iv: parsed_iv,\n        mode: CryptoJS.mode.CBC\n    }\n    var decrypted = CryptoJS.AES.decrypt(ciphertext, secret_key, options);\n\n    return toString(decrypted);\n}","import axios from \"axios\";\n\nexport async function commitFile(repository, branch, filePath, content, pat) {\n    const accessToken = pat;\n    console.log(\"AT\", accessToken);\n    try {\n    // Get reference SHA\n    const refResponse = await axios.get(\n        `https://api.github.com/repos/${repository}/contents/${filePath}`,\n        {\n            headers: {\n                Authorization: `Token ${accessToken}`\n            }\n        }\n    );\n    \n    const refSha = refResponse.data.sha;\n    \n    await axios.put(\n        `https://api.github.com/repos/${repository}/contents/${filePath}`,\n        {\n            message: \"commit from js\",\n            content: btoa(content),\n            sha: refSha\n        },\n        {\n            headers: {\n                Authorization: `Token ${accessToken}`\n                }\n        }\n    )\n    \n    console.log(\"File committed successfully!\");\n    } catch (error) {\n    console.error(error);\n}\n}\n\n","import { useState } from \"react\";\n\nfunction Login({SendPassword}) {\n    const [password, setPassword] = useState(\"\");\n\n    return (\n        <div className=\"card\">\n            <input\n                value={password}\n                onChange={({ target }) => {\n                    setPassword(target.value);\n                }}\n                name=\"password\"\n                type=\"text\"\n            />\n            \n            <button \n                className=\"btn submit-btn\" \n                onClick={() => SendPassword(password) }\n            >\n                Go\n            </button>\n        </div>\n    );\n}\n\nexport default Login;","import { useState} from \"react\";\n\nconst FormScreen = props => {\n    const [food, setFood] = useState(0);\n    const [sport, setSport] = useState(0);\n    const [alcool, setAlcool] = useState(0);\n    const [tabac, setTabac] = useState(0);\n    const [sleep, setSleep] = useState(0);\n    const [mood, setMood] = useState(0);\n    const [weight, setWeight] = useState(0);\n\n    const handleCommitClick = () => {\n        console.log(\"commit clik\");\n        props.commitCallback();\n    }\n\n    const handleAddClick = () => {\n        const data = {\n            food: parseInt(food), \n            sport: parseInt(sport), \n            alcool: parseInt(alcool), \n            tabac: parseInt(tabac), \n            sleep: parseInt(sleep),\n            mood: parseInt(mood),\n            weight: parseInt(weight),\n            date: props.date\n        }\n        props.dataHandle(data);\n    }\n\n    return (\n        <div>\n            <p>{props.date.toLocaleDateString('en-GB')}</p> \n            <div onChange={(e) => setFood(e.target.value)}>\n                Food: \n                <input type=\"radio\" value=\"1\" name=\"food\" /> 1\n                <input type=\"radio\" value=\"2\" name=\"food\" /> 2\n                <input type=\"radio\" value=\"3\" name=\"food\" /> 3\n            </div>\n            <div onChange={(e) => setSport(e.target.value)}>\n                Sport: \n                <input type=\"radio\" value=\"1\" name=\"sport\" /> 1\n                <input type=\"radio\" value=\"2\" name=\"sport\" /> 2\n                <input type=\"radio\" value=\"3\" name=\"sport\" /> 3\n            </div>\n            <div onChange={(e) => setAlcool(e.target.value)}>\n                Alcool: \n                <input type=\"radio\" value=\"1\" name=\"alcool\" /> 1\n                <input type=\"radio\" value=\"2\" name=\"alcool\" /> 2\n                <input type=\"radio\" value=\"3\" name=\"alcool\" /> 3\n            </div>\n            <div onChange={(e) => setTabac(e.target.value)}>\n                Tabac: \n                <input type=\"radio\" value=\"1\" name=\"tabac\" /> 1\n                <input type=\"radio\" value=\"2\" name=\"tabac\" /> 2\n            </div>\n            <div onChange={(e) => setSleep(e.target.value)}>\n                Sleep: \n                <input type=\"radio\" value=\"1\" name=\"sleep\" /> 1\n                <input type=\"radio\" value=\"2\" name=\"sleep\" /> 2\n            </div>\n            <div onChange={(e) => setMood(e.target.value)}>\n                Mood: \n                <input type=\"radio\" value=\"1\" name=\"mood\" /> 1\n                <input type=\"radio\" value=\"2\" name=\"mood\" /> 2\n            </div>\n            <div onChange={(e) => setWeight(e.target.value)}>\n                Weight: \n                <input type=\"text\" name=\"weight\"/>\n            </div>\n            <button onClick={handleAddClick}>Add</button>\n            <br/>\n            <button onClick={handleCommitClick}>Commit</button>\n        </div>\n    );\n}\n\nexport default FormScreen;\n","import { decryptData, encryptData } from \"../enc/crypt.js\"\n\nconst month = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\n\nexport const getDataFromStruct = async (d2, date, password) => {\n    const cleartxt = decryptData(d2, password);\n    const clearjson = JSON.parse(cleartxt);\n    const YY = date.getFullYear();\n    const MM = month[date.getMonth()];\n    const DD = date.getDate();\n    if (!(YY in clearjson)) {\n        return null;\n    }\n    if (! (MM in clearjson[YY])) {\n        return null;\n    }\n    if (! (DD in clearjson[YY][MM])) {\n        return null;\n    }\n    return clearjson[YY][MM][DD];\n}\n\n\nexport const addDataToStruct = (d2, data, password) => {\n    const cleartxt = decryptData(d2, password);\n    const YY = data.date.getFullYear();\n    const MM = month[data.date.getMonth()];\n    const DD = data.date.getDate();\n    const root = {\n        f: data.food,\n        s: data.sport,\n        a: data.alcool,\n        t: data.tabac,\n        sl: data.sleep,\n        m: data.mood,\n        w: data.weight,\n    }\n\n    let clear = JSON.parse(cleartxt)\n\n    if (!(YY in clear)) {\n        clear[YY] = {};\n    }\n    if (! (MM in clear[YY])) {\n        clear[YY][MM] = {};\n    }\n    clear[YY][MM][DD] = root;\n    return encryptData(JSON.stringify(clear), password);\n}","\nimport { useState, useEffect } from \"react\";\nimport {  getDataFromStruct } from \"../data/handle.js\";\n\n\nconst CurrentScreen = props => {\n    const [currentData, setCurrentData] = useState([]);\n    useEffect(() => {\n        getDataFromStruct(props.db.d2, props.selectedDate, props.password)\n            .then(function(data){\n                setCurrentData(data);\n            })\n      }, [props.db.d2, props.selectedDate, props.password]);\n\n    return (\n        <div>\n            Current\n            {props.selectedDate ? props.selectedDate.toString() : \"000\"}\n            === {currentData ? currentData.w : \"WWW\"} <br/>\n            === {currentData ? currentData.f : \"FFF\"} <br/>\n        </div>\n    )\n}\n\nexport default CurrentScreen;","import { useState } from \"react\";\nimport Calendar from 'moedim';\nimport FormScreen from \"./FormScreen\";\nimport CurrentScreen from \"./CurrentScreen\";\n\nconst EditScreen = props => {\n    const [selectedDate, setSelectedDate] = useState(new Date());\n    \n    const ReceiveDate = (data) => {\n        setSelectedDate(data);\n    }\n\n    return (\n        <div className=\"card\">\n            <Calendar value={selectedDate} onChange={(d) => { ReceiveDate(d) } }/>\n            \n            <FormScreen date={selectedDate} dataHandle={props.dataHandle} commitCallback={props.commitCallback}/>\n            <CurrentScreen selectedDate={selectedDate} db={props.db} password={props.password}/>\n        </div>\n    );\n}\n\n\nexport default EditScreen;","import { useState, useEffect } from \"react\";\nimport {encryptData, decryptData} from \"./enc/crypt.js\"\nimport {commitFile} from \"./gh/gh.js\"\nimport Login from \"./Login/Login\"\nimport EditScreen from \"./Screens/EditScreen\"\nimport { addDataToStruct } from \"./data/handle.js\";\n\n\nfunction App() {\n  const [text, setText] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [screen, setScreen] = useState(\"encrypt\");\n  const [db, setDb] = useState(\"\");\n  const [clearDb, setClearDb] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(\"false\");\n  const [encrptedData, setEncrptedData] = useState(\"\");\n  const [decrptedData, setDecrptedData] = useState(\"\");\n  \n  \n  const commitCallback = () => {\n    console.log(\"Commit callback\");\n    console.log(\"clear\", decryptData(db.d2, password));\n    const repository = \"sandrolex/sandrolex.github.io\";\n    const branch = \"main\";\n    const filePath = \"db.json\";\n    const content = JSON.stringify(db);\n    const pat = decryptData(db.d1, password);\n    commitFile(repository, branch, filePath, content, pat)\n  }\n\n  const dataHandle = (data) => {\n    console.log(\"RECEIVED DATA\", data);\n    db.d2 = addDataToStruct(db.d2, data, password);\n  }\n\n  const SendPassword = (data) => {\n    setPassword(data);\n    const verif = decryptData(db.d3, password);\n    if (verif === \"true\") {\n      setLoggedIn(\"true\");\n      setScreen(\"edit\");\n    } else {\n      console.log(\"failed\")\n    }\n  }\n\n  useEffect(() => {\n    const host = window.location.host;\n    let protocol = \"http://\";\n    if (host.includes(\"github\") ) {\n      protocol = \"https://\";\n    }\n    const dbUrl = protocol + host + '/db.json';\n    fetch(dbUrl).then(\n\t\t  function (res) {\n\t\t\t  return res.json();\n\t\t  },\n    ).then(function (data) {\n      // store Data in State db Variable\n      setDb(data);\n    }).catch(\n      function (err) {\n        console.log(err, ' error');\n      },\n    );\n  }, []);\n\n  const switchScreen = (type) => {\n    setText(\"\");\n    setEncrptedData(\"\");\n    setDecrptedData(\"\");\n    setScreen(type);\n  };\n\n  const handleClick = () => {\n    if (!text) return;\n\n    if (screen === \"encrypt\") setEncrptedData(encryptData(text, password));\n    else { \n      setDecrptedData(decryptData(text, password));\n      console.log(\"RAW\", db);\n      console.log(\"XXXX\", decryptData(db.d2, password));\n    }\n  };\n\n  const handleSaveDbClick = () => {\n    console.log(\"clearDB\", clearDb);\n    db.d2 = encryptData(clearDb, password);\n    console.log(\"cipher\", db);\n    const repository = \"sandrolex/sandrolex.github.io\";\n    const branch = \"main\";\n    const filePath = \"db.json\";\n    const content = JSON.stringify(db);\n    const pat = decryptData(db.d1, password);\n    commitFile(repository, branch, filePath, content, pat)\n  };\n\n  const editScreen = () => {\n    return (\n      <div className=\"card\">\n        <input\n          value={clearDb}\n          name=\"edit\"\n          type=\"text\"\n          onChange={({ target }) => {\n            setClearDb(target.value);\n          }}\n        />\n        <button className=\"btn submit-btn\" onClick={handleSaveDbClick}>\n            Save\n          </button>\n      </div>\n    )\n  }\n  const cryptScreen = () => {\n    return (\n      <div className=\"card\">\n          <input\n            value={text}\n            onChange={({ target }) => {\n              setText(target.value);\n            }}\n            name=\"text\"\n            type=\"text\"\n            placeholder={\n              screen === \"encrypt\" ? \"Enter Text\" : \"Enter Encrypted Data\"\n            }\n          />\n          <input\n            value={password}\n            onChange={({ target }) => {\n              setPassword(target.value);\n            }}\n            name=\"pass\"\n            type=\"text\"\n            placeholder=\"secret\"\n          />\n\n          <button className=\"btn submit-btn\" onClick={handleClick}>\n            {screen === \"encrypt\" ? \"Encrypt\" : \"Decrypt\"}\n          </button>\n          {encrptedData || decrptedData ? (\n          <div className=\"content\">\n            <label>{screen === \"encrypt\" ? \"Encrypted\" : \"Decrypted\"} Data</label>\n            <p>{screen === \"encrypt\" ? encrptedData : decrptedData}</p>\n          </div>\n        ) : null}\n        </div>\n\n    )\n  }\n  \n  const showScreen = (selection) => {\n    if (selection === \"edit\") {\n      return editScreen();\n    } else if (selection === \"calendar\") {\n      return (\n        <EditScreen \n          dataHandle={dataHandle} \n          commitCallback={commitCallback} \n          password={password}\n          db={db}\n        />\n      );\n    } \n    return cryptScreen();\n  }\n\n  const frameScreen = () => {\n    return (\n      <div className=\"container\">\n        <div>\n          <button\n            className=\"btn btn-left\"\n            style={{\n              backgroundColor: screen === \"encrypt\" ? \"#5e35b1\" : \"#5e35b130\",\n            }}\n            onClick={() => {\n              switchScreen(\"encrypt\");\n            }}\n          >\n            Encrypt\n          </button>\n\n          <button\n            className=\"btn btn-right\"\n            style={{\n              backgroundColor: screen === \"decrypt\" ? \"#1e88e5\" : \"#1e88e530\",\n            }}\n            onClick={() => {\n              switchScreen(\"decrypt\");\n            }}\n          >\n            Decrypt\n          </button>\n          \n          <button\n            className=\"btn btn-right\"\n            style={{\n              backgroundColor: screen === \"edit\" ? \"#1e88e5\" : \"#1e88e530\",\n            }}\n            onClick={() => {\n              setClearDb(decryptData(db.d2, password));\n              switchScreen(\"edit\");\n            }}\n          >\n            Edit\n          </button>\n\n          <button\n            className=\"btn btn-right\"\n            style={{\n              backgroundColor: screen === \"calendar\" ? \"#1e88e5\" : \"#1e88e530\",\n            }}\n            onClick={() => {\n              switchScreen(\"calendar\");\n            }}\n          >\n            Calendar\n          </button>\n\n        </div>\n        {showScreen(screen)}\n        \n      </div>\n    );\n    }\n    if (loggedIn === \"false\") {\n      return (\n        <Login SendPassword={SendPassword} />\n      )\n    } else {\n      return frameScreen();\n    }\n    \n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}